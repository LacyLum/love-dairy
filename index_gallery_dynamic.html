
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>我们的恋爱日记</title>
  <style>
    body { font-family: sans-serif; background: #fff0f5; padding: 20px; }
    .photo-grid img { margin: 10px; border-radius: 8px; }
    .photo-grid { display: flex; flex-wrap: wrap; }
  </style>
</head>
<body>
  <section class="gallery">
    <h2>我们的照片墙</h2>
    <div class="photo-grid" id="photoGrid"></div>
  </section>

  <section class="messages">
    <h2>留言板</h2>
    <div id="messageList"></div>
    <textarea id="msgInput" placeholder="写下今天的心情..." style="width:80%; padding:10px; border-radius:8px;"></textarea><br>
    <button onclick="addMessage()" style="margin-top:10px; padding:8px 12px; background:#ff69b4; color:white; border:none; border-radius:8px; cursor:pointer;">💬 添加留言</button>
  </section>

  <script>
    async function loadPhotos() {
      try {
        const response = await fetch('https://raw.githubusercontent.com/LacyLum/love-dairy/main/cloudinary_image_links.json');
        const urls = await response.json();
        const grid = document.getElementById('photoGrid');
        grid.innerHTML = urls.map(url => `<img src="${url}" width="200">`).join('');
      } catch (error) {
        console.error('无法加载图片链接:', error);
      }
    }

    function addMessage() {
      const msg = document.getElementById('msgInput').value;
      if (msg.trim()) {
        const list = document.getElementById('messageList');
        const entry = document.createElement('p');
        entry.textContent = msg;
        list.appendChild(entry);
        document.getElementById('msgInput').value = '';
      }
    }

    window.onload = loadPhotos;
  </script>
</body>
</html>
